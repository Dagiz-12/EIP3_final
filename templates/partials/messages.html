{% if messages %}
<div class="fixed top-4 right-4 z-50 space-y-2 max-w-md">
  {% for message in messages %}
  <div
    class="{% if message.tags == 'success' %}bg-green-500 text-white{% elif message.tags == 'error' %}bg-red-500 text-white{% elif message.tags == 'warning' %}bg-yellow-500 text-white{% else %}bg-blue-500 text-white{% endif %} px-6 py-4 rounded-lg shadow-lg transform transition-all duration-300"
    id="message-{{ forloop.counter }}"
  >
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        {% if message.tags == 'success' %}
        <i class="fas fa-check-circle mr-3 text-lg"></i>
        {% elif message.tags == 'error' %}
        <i class="fas fa-exclamation-circle mr-3 text-lg"></i>
        {% elif message.tags == 'warning' %}
        <i class="fas fa-exclamation-triangle mr-3 text-lg"></i>
        {% else %}
        <i class="fas fa-info-circle mr-3 text-lg"></i>
        {% endif %}
        <span>{{ message }}</span>
      </div>
      <button
        onclick="this.parentElement.parentElement.remove()"
        class="ml-4 hover:opacity-75"
      >
        <i class="fas fa-times"></i>
      </button>
    </div>
  </div>
  {% endfor %}
</div>

<script>
  // Auto-remove messages after 5 seconds
  document.addEventListener("DOMContentLoaded", function () {
    setTimeout(function () {
      const messages = document.querySelectorAll('[id^="message-"]');
      messages.forEach(function (message) {
        message.style.opacity = "0";
        message.style.transform = "translateX(100%)";
        setTimeout(function () {
          if (message.parentElement) {
            message.remove();
          }
        }, 300);
      });
    }, 5000);
  });
</script>
{% endif %}
